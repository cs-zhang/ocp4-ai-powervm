{
    "base_dns_domain": "{{ dns.domain | lower }}",
    "name": "{{ dns.clusterid }}",
    "cpu_architecture": "{{ rhcos_arch }}",
    "openshift_version": "{{ assisted_ocp_version }}",
    {% if masters | length == 1 %}
    "high_availability_mode": "None",
    {% else %}
    "high_availability_mode": "Full",
    {% endif %}
    "network_type": "{{ cni_network_provider }}",
    "ssh_public_key": "{{ public_ssh_key }}",
    "pull_secret": {{ pull_secret | to_json }},

    "vip_dhcp_allocation": false,
    {% if dhcp.api_vip is defined %}
    "network_type": "{{ cni_network_provider }}",
    "user_managed_networking": false,
    "api_vip": "{{ dhcp.api_vip }}",
    "api_vips": [{ "ip": "{{ dhcp.api_vip }}" }],
    {% if dhcp.ingress_vip is defined %}
    "ingress_vip": "{{ dhcp.ingress_vip }}",
    "ingress_vips": [{ "ip": "{{ dhcp.ingress_vip }}" } ],
    {% endif %}
    {% else %}
    "network_type": "OpenShiftSDN",
    "user_managed_networking": true,
    {% endif %}
    "service_networks": [
      {"cidr": "172.30.0.0/16"}
    ],
    "cluster_networks": [
      {
        "cidr": "10.128.0.0/14",
        "host_prefix": 23
      }
    ]
}

